{% extends 'base.html' %}
{% block content %}
<div class="card mx-auto mt-8 p-8 bg-gray-800 rounded-lg shadow-lg w-full max-w-lg">
  <h2 class="text-3xl font-bold mb-6 text-center text-white">Password Generator ðŸ”‘</h2>
  <form method="post" class="space-y-6">
    <div>
      <label for="length" class="block text-lg font-medium text-gray-300">Panjang Password:</label>
      <input type="number" name="length" id="length" value="12" min="1"
             class="mt-2 block w-full p-4 text-lg bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
             placeholder="12">
    </div>
    
    <div class="flex flex-col space-y-3">
      <label class="inline-flex items-center text-gray-300 text-lg">
        <input type="checkbox" name="use_upper" checked class="form-checkbox h-6 w-6 text-green-600">
        <span class="ml-3 text-lg">Gunakan Huruf Kapital</span>
      </label>
      <label class="inline-flex items-center text-gray-300 text-lg">
        <input type="checkbox" name="use_lower" checked class="form-checkbox h-6 w-6 text-green-600">
        <span class="ml-3 text-lg">Gunakan Huruf Kecil</span>
      </label>
      <label class="inline-flex items-center text-gray-300 text-lg">
        <input type="checkbox" name="use_digits" checked class="form-checkbox h-6 w-6 text-green-600">
        <span class="ml-3 text-lg">Gunakan Angka</span>
      </label>
      <label class="inline-flex items-center text-gray-300 text-lg">
        <input type="checkbox" name="use_symbols" checked class="form-checkbox h-6 w-6 text-green-600">
        <span class="ml-3 text-lg">Gunakan Simbol</span>
      </label>
    </div>
    
    <div>
      <button type="submit" class="w-full py-3 text-lg bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md transition">
        Generate
      </button>
    </div>
  </form>
  
  {% if password %}
  <div class="mt-6 p-5 bg-gray-700 rounded-lg">
    <h3 class="text-xl font-semibold mb-4 text-white">Password yang dihasilkan:</h3>
    <div class="flex items-center space-x-5">
      <p id="generated-password" class="text-lg text-gray-200 break-all">{{ password }}</p>
      <button onclick="copyPassword()" class="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg">
        Copy
      </button>
    </div>
  </div>
  {% endif %}
</div>

<script>
  function copyPassword() {
    const passwordText = document.getElementById("generated-password").innerText;
    navigator.clipboard.writeText(passwordText)
      .then(() => {
        alert("Password berhasil disalin!");
      })
      .catch(err => {
        alert("Gagal menyalin password: " + err);
      });
  }
</script>
{% endblock %}
